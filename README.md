# Weather API based on Lumen

АПИ для отображения погоды в различных сервисах. При вызове каждого метода, отображаются подсказки, либо, конкретный результат. 
Получение списка доступных сущностей:
```php
/api
```

Получение списка доступных версий:
```php
/api/{entity_name}
```

Получение списка доступных сервисов:
```php
/api/{entity_name}/{version}
```

## Сущность погоды (weather)

Получение списка доступных сервисов и методов погоды:
```php
/api/weather/{version}/
```

Получение результата погоды по городу:
```php
/api/weather/{version}/{service_name}/{city}
```

## Сущность статистики (statistic)

Получение списка доступных методов статистики:
```php
/api/statistic/{version}/
```

Получение данных за дневной, месячный периоды, либо популярные запросы:
```php
/api/statistic/{version}/{method}
```

В коде реализована версионность сущностей.  

## Добавление сервисов погоды

Для добавления сервиса, необходимо создать класс сущности в нужной версии АПИ, также создать абстрактную сущность этого класса в директории без версии для переиспользования в других версиях.
```php
app/Services/Weather/{version}/{service_class}
app/Services/Weather/{abstract_class}
```
Основную реализацию методов можно оставить в абстракции.

В абстракции реализуются 2 метода валидатора: isIgnored, isValidInstance
Также 2 внутренних метода: getName, getAvailAbleMethods

Валидация нужного сервиса по полю {service_name} проходит по полю name в классе сервиса. 
